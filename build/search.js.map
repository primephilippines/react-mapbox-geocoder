{"version":3,"sources":["../src/search.js"],"names":["endpoint","source","accessToken","proximity","bbox","types","query","onResult","searchTime","Date","uri","encodeURIComponent","fetch","json","data","search"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uEAEe;AAAA,UACbA,QADa,SACbA,QADa;AAAA,UAEbC,MAFa,SAEbA,MAFa;AAAA,UAGbC,WAHa,SAGbA,WAHa;AAAA,kCAIbC,SAJa;AAAA,UAIbA,SAJa,mCAID,EAJC;AAAA,6BAKbC,IALa;AAAA,UAKbA,IALa,8BAKN,EALM;AAAA,8BAMbC,KANa;AAAA,UAMbA,KANa,+BAML,EANK;AAAA,UAObC,KAPa,SAObA,KAPa;AAAA,UAQbC,QARa,SAQbA,QARa;AAAA;AAAA;AAAA;AAAA;AAAA;AAUPC,wBAVO,GAUM,IAAIC,IAAJ,EAVN;AAWPC,iBAXO,GAWEV,QAXF,sBAYXC,MAZW,SAYDU,mBAAmBL,KAAnB,CAZC,2BAaSJ,WAbT,IAcVC,4BACeA,SADf,GAEC,EAhBS,KAiBVC,kBAAgBA,IAAhB,GAAyB,EAjBf,KAkBVC,oBACWM,mBAAmBN,KAAnB,CADX,GAEC,EApBS;AAAA;AAAA,qBAuBaO,MAAMF,GAAN,CAvBb;;AAAA;AAAA;AAAA,mCAuByBG,IAvBzB;;AAAA;AAuBPC,kBAvBO;;;AAyBbP,uBAASO,IAAT,EAAeN,UAAf;;AAzBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;aAAeO,M;;;;WAAAA,M","file":"search.js","sourcesContent":["import 'babel-polyfill';\r\n\r\nexport default async function search({\r\n  endpoint,\r\n  source,\r\n  accessToken,\r\n  proximity = '',\r\n  bbox = '',\r\n  types = '',\r\n  query,\r\n  onResult,\r\n}) {\r\n  const searchTime = new Date();\r\n  const uri = `${endpoint}/geocoding/v5/${\r\n    source}/${encodeURIComponent(query)\r\n  }.json?access_token=${accessToken\r\n  }${proximity\r\n    ? `&proximity=${proximity}`\r\n    : ''\r\n  }${bbox ? `&bbox=${bbox}` : ''\r\n  }${types\r\n    ? `&types=${encodeURIComponent(types)}`\r\n    : ''\r\n  }`;\r\n\r\n  const data = await (await fetch(uri)).json();\r\n\r\n  onResult(data, searchTime);\r\n}\r\n"]}